weather_july <- weather %>%
mutate(month = month(date),
CensusYear = ifelse(month >= 7, (year(date) + 1), year(date)))
weather_july <- weather %>%
mutate(month = month(date),
CensusYear = ifelse(month >= 7, (year(date) + 1), year(date)))
#library(terra) #AKIEM - doesn't seem to work or use raster
library(lubridate)
weather_may <- weather %>%
mutate(month = month(date),
CensusYear = ifelse(month >= 5, (year(date) + 1), year(date)))
weather_may <- weather %>%
mutate(month = month(Date),
CensusYear = ifelse(month >= 5, (year(Date) + 1), year(Date)))
str(weather)
waether$Date <- as.Date(weather$Date, format= "%m-%d-%Y")
weather$Date <- as.Date(weather$Date, format= "%m-%d-%Y")
str(weather)
weather
weather$Date <- as.Date(weather$Date)
weather
weather <- read_csv("data/weather_data.csv")
weather
weather$Date <- as.Date(weather$Date, format= "%m/%d/%Y")
weather
View(weather)
waether$month <- format(weather$Date, "%m")
weather$month <- format(weather$Date, "%m")
weather$year <- format(weather$Date, "%Y")
weather_may <- weather %>%
CensusYear = ifelse(month >= 5, year + 1, year)
class(weather$month)
weather$month <- as.integer (format(weather$Date, "%m"))
weather$year <- as.integer (format(weather$Date, "%Y"))
weather_may <- weather %>%
CensusYear = ifelse(month >= 5, year + 1, year)
?ifelse
weather_may <- weather %>%
CensusYear = ifelse(month >= 5, (year + 1), year)
weather_may <- weather %>% CensusYear == ifelse(month >= 5, (year + 1), year)
weather_CensusYear <- ifelse(weather$month >= 5, (weather$year + 1), weather$year)
weather
View(weather)
weather$year <- as.integer (format(weather$Date, "%Y")) + 2000
View(weather)
weather_CensusYear <- ifelse(weather$month >= 5, (weather$year + 1), weather$year)
str(weather)
weather_may <- weather %>%
CensusYear = ifelse(month >= 5, (year + 1), year))
weather_may <- weather %>%
CensusYear = ifelse(month >= 5, (year + 1), year)
View(weather)
weather$month <- as.numeric (format(weather$Date, "%m"))
weather$year <- as.numeric (format(weather$Date, "%Y")) + 2000
weather_may <- weather %>%
CensusYear = ifelse(month >= 5, (year + 1), year)
weather_may <- weather %>%
CensusYear = ifelse("month" >= 5, ("year" + 1), "year")
weather_may <- weather %>%
CensusYear = ifelse(monthina >= 5, (yearina + 1), yearina)
weather$monthina <- as.numeric (format(weather$Date, "%m"))
weather$yearina <- as.numeric (format(weather$Date, "%Y")) + 2000
weather_may <- weather %>%
CensusYear = ifelse(monthina >= 5, (yearina + 1), yearina)
weather$monthina <- as.numeric (format(weather$Date, "%m"))
weather$yearina <- as.numeric (format(weather$Date, "%Y")) + 2000
weather_may <- weather %>%
CensusYear = ifelse(monthina >= 5, (yearina + 1), yearina)
weather$CensusYear = ifelse(weather$monthina >= 5, (weather$yearina + 1), weather$yearina)
weather$monthina
weather
weather_CensusYear
weather$CensusYear <- ifelse(weather$monthina >= 5, (weather$yearina + 1), weather$yearina)
View(weather)
weather$CensusYearMay <- ifelse(weather$_month >= 5, (weather$_year + 1), weather$_year)
weather$_month <- as.numeric (format(weather$Date, "%m"))
weather$CensusYearMay <- ifelse(weather$monthina >= 5, (weather$yearina + 1), weather$yearina)
weather$CensusYearMay <- ifelse(weather$monthina >= 7, (weather$yearina + 1), weather$yearina)
weather$CensusYearMay <- ifelse(weather$monthina >= 9, (weather$yearina + 1), weather$yearina)
weather$CensusYearMay <- ifelse(weather$monthina >= 5, (weather$yearina + 1), weather$yearina)
weather$CensusYearJul <- ifelse(weather$monthina >= 7, (weather$yearina + 1), weather$yearina)
weather$CensusYearSep <- ifelse(weather$monthina >= 9, (weather$yearina + 1), weather$yearina)
str(weather)
View(weather)
weather <- read_csv("data/weather_data.csv")
str(weather)
weather$Date <- as.Date(weather$Date, format= "%m/%d/%Y")
weather$monthina <- as.numeric (format(weather$Date, "%m"))
weather$yearina <- as.numeric (format(weather$Date, "%Y")) + 2000
weather$CensusYearMay <- ifelse(weather$monthina >= 5, (weather$yearina + 1), weather$yearina)
weather$CensusYearJul <- ifelse(weather$monthina >= 7, (weather$yearina + 1), weather$yearina)
weather$CensusYearSep <- ifelse(weather$monthina >= 9, (weather$yearina + 1), weather$yearina)
View(weather)
View(weather)
weather <- weather %>%
group_by(
CensusYearMay) %>%
mutate(CensusYearMay_ppt_tot = sum(`ppt (inches)`, na.rm = TRUE),
CensusYearMay_ppt_sd  = sd(ppt_mm, na.rm = TRUE),
CensusYearMay_tmean_mean = sum(`ppt (inches)`, na.rm = TRUE),
CensusYearMay_tmean_sd  = sd(ppt_mm, na.rm = TRUE))
weather <- weather %>%
group_by(
CensusYearMay) %>%
mutate(CensusYearMay_ppt_tot = sum(`ppt (inches)`, na.rm = TRUE),
CensusYearMay_ppt_sd  = sd(`ppt (inches)`, na.rm = TRUE),
CensusYearMay_tmean_mean = sum(`tmean (degrees F)`, na.rm = TRUE),
CensusYearMay_tmean_sd  = sd(`tmean (degrees F)`, na.rm = TRUE))
View(weather)
?distinct
#
weatherMay <- weather %>%
select(-`tmax (degrees F)`,-`tdmean (degrees F)`,-`vpdmin (hPa)`,-`vpdmax (hPa)`,-`tmin (degrees F)`,
-Date, -monthina, -yearina, -`ppt (inches)`,-`tmean (degrees F)`) %>%
distinct()
weatherMay
View(weatherMay)
weather <- weather %>%
group_by(
CensusYearJul) %>%
mutate(CensusYearJul_ppt_tot = sum(`ppt (inches)`, na.rm = TRUE),
CensusYearJul_ppt_sd  = sd(`ppt (inches)`, na.rm = TRUE),
CensusYearJul_tmean_mean = sum(`tmean (degrees F)`, na.rm = TRUE),
CensusYearJul_tmean_sd  = sd(`tmean (degrees F)`, na.rm = TRUE))
weather <- weather %>%
group_by(
CensusYearSep) %>%
mutate(CensusYearSep_ppt_tot = sum(`ppt (inches)`, na.rm = TRUE),
CensusYearSep_ppt_sd  = sd(`ppt (inches)`, na.rm = TRUE),
CensusYearSep_tmean_mean = sum(`tmean (degrees F)`, na.rm = TRUE),
CensusYearSep_tmean_sd  = sd(`tmean (degrees F)`, na.rm = TRUE))
#generating summary stats for each census year
weatherMay <- weather %>%
group_by(
CensusYearMay) %>%
mutate(CensusYearMay_ppt_tot = sum(`ppt (inches)`, na.rm = TRUE),
CensusYearMay_ppt_sd  = sd(`ppt (inches)`, na.rm = TRUE),
CensusYearMay_tmean_mean = sum(`tmean (degrees F)`, na.rm = TRUE),
CensusYearMay_tmean_sd  = sd(`tmean (degrees F)`, na.rm = TRUE))
weatherJul <- weather %>%
group_by(
CensusYearJul) %>%
mutate(CensusYearJul_ppt_tot = sum(`ppt (inches)`, na.rm = TRUE),
CensusYearJul_ppt_sd  = sd(`ppt (inches)`, na.rm = TRUE),
CensusYearJul_tmean_mean = sum(`tmean (degrees F)`, na.rm = TRUE),
CensusYearJul_tmean_sd  = sd(`tmean (degrees F)`, na.rm = TRUE))
weatherSep <- weather %>%
group_by(
CensusYearSep) %>%
mutate(CensusYearSep_ppt_tot = sum(`ppt (inches)`, na.rm = TRUE),
CensusYearSep_ppt_sd  = sd(`ppt (inches)`, na.rm = TRUE),
CensusYearSep_tmean_mean = sum(`tmean (degrees F)`, na.rm = TRUE),
CensusYearSep_tmean_sd  = sd(`tmean (degrees F)`, na.rm = TRUE))
#
weatherMay <- weatherMay %>%
select(-`tmax (degrees F)`,-`tdmean (degrees F)`,-`vpdmin (hPa)`,-`vpdmax (hPa)`,-`tmin (degrees F)`,
-Date, -monthina, -yearina, -`ppt (inches)`,-`tmean (degrees F)`) %>%
distinct()
View(weatherMay)
#
weatherMay <- weatherMay %>%
select(-`tmax (degrees F)`,-`tdmean (degrees F)`,-`vpdmin (hPa)`,-`vpdmax (hPa)`,-`tmin (degrees F)`,
-Date, -monthina, -yearina, -`ppt (inches)`,-`tmean (degrees F)`,
-CensusYearJul, -CensusYearSep) %>%
distinct()
#
weatherMay <- weatherMay %>%
select(-`tmax (degrees F)`,-`tdmean (degrees F)`,-`vpdmin (hPa)`,-`vpdmax (hPa)`,-`tmin (degrees F)`,
-Date, -monthina, -yearina, -`ppt (inches)`,-`tmean (degrees F)`) %>%
distinct()
#generating summary stats for each census year
weatherMay <- weather %>%
group_by(
CensusYearMay) %>%
mutate(CensusYearMay_ppt_tot = sum(`ppt (inches)`, na.rm = TRUE),
CensusYearMay_ppt_sd  = sd(`ppt (inches)`, na.rm = TRUE),
CensusYearMay_tmean_mean = sum(`tmean (degrees F)`, na.rm = TRUE),
CensusYearMay_tmean_sd  = sd(`tmean (degrees F)`, na.rm = TRUE))
View(weatherMay)
#reading in downloaded weather data
weather <- read_csv("data/weather_data.csv")
#extracting month and year from date
str(weather)
weather$Date <- as.Date(weather$Date, format= "%m/%d/%Y")
weather$monthina <- as.numeric (format(weather$Date, "%m"))
weather$yearina <- as.numeric (format(weather$Date, "%Y")) + 2000
#creating census years for each data collection period
weather$CensusYearMay <- ifelse(weather$monthina >= 5, (weather$yearina + 1), weather$yearina)
weather$CensusYearJul <- ifelse(weather$monthina >= 7, (weather$yearina + 1), weather$yearina)
weather$CensusYearSep <- ifelse(weather$monthina >= 9, (weather$yearina + 1), weather$yearina)
#generating summary stats for each census year
weatherMay <- weather %>%
group_by(
CensusYearMay) %>%
mutate(CensusYearMay_ppt_tot = sum(`ppt (inches)`, na.rm = TRUE),
CensusYearMay_ppt_sd  = sd(`ppt (inches)`, na.rm = TRUE),
CensusYearMay_tmean_mean = sum(`tmean (degrees F)`, na.rm = TRUE),
CensusYearMay_tmean_sd  = sd(`tmean (degrees F)`, na.rm = TRUE))
View(weatherMay)
View(weatherMay)
weatherJul <- weather %>%
group_by(
CensusYearJul) %>%
mutate(CensusYearJul_ppt_tot = sum(`ppt (inches)`, na.rm = TRUE),
CensusYearJul_ppt_sd  = sd(`ppt (inches)`, na.rm = TRUE),
CensusYearJul_tmean_mean = sum(`tmean (degrees F)`, na.rm = TRUE),
CensusYearJul_tmean_sd  = sd(`tmean (degrees F)`, na.rm = TRUE))
weatherSep <- weather %>%
group_by(
CensusYearSep) %>%
mutate(CensusYearSep_ppt_tot = sum(`ppt (inches)`, na.rm = TRUE),
CensusYearSep_ppt_sd  = sd(`ppt (inches)`, na.rm = TRUE),
CensusYearSep_tmean_mean = sum(`tmean (degrees F)`, na.rm = TRUE),
CensusYearSep_tmean_sd  = sd(`tmean (degrees F)`, na.rm = TRUE))
#
weatherMay <- weatherMay %>%
select(-`tmax (degrees F)`,-`tdmean (degrees F)`,-`vpdmin (hPa)`,-`vpdmax (hPa)`,-`tmin (degrees F)`,
-Date, -monthina, -yearina, -`ppt (inches)`,-`tmean (degrees F)`,
-CensusYearJul, -CensusYearSep) %>%
distinct()
View(weatherMay)
weatherJul <- weatherJul %>%
select(-`tmax (degrees F)`,-`tdmean (degrees F)`,-`vpdmin (hPa)`,-`vpdmax (hPa)`,-`tmin (degrees F)`,
-Date, -monthina, -yearina, -`ppt (inches)`,-`tmean (degrees F)`,
-CensusYearMay, -CensusYearSep) %>%
distinct()
weatherSep <- weatherSep %>%
select(-`tmax (degrees F)`,-`tdmean (degrees F)`,-`vpdmin (hPa)`,-`vpdmax (hPa)`,-`tmin (degrees F)`,
-Date, -monthina, -yearina, -`ppt (inches)`,-`tmean (degrees F)`,
-CensusYearJul, -CensusYearMay) %>%
distinct()
View(weatherSep)
gras <- read.csv("data/ltreb_allspp_2007_2025.csv")
?rowwise
CombinedMay <- left_join(x=gras, y=weatherMay, by=c("year_t" = "CensusYearMay")) %>%
rowwise()
CombinedData <- left_join(x=gras, y=weatherMay, by=c("year_t" = "CensusYearMay")) %>%
left_join(x=gras, y=weatherJul, by=c("year_t" = "CensusYearJul")) %>%
left_join(x=gras, y=weatherSep, by=c("year_t" = "CensusYearSep")) %>%
rowwise()
View(CombinedData)
?case_when
#reading in downloaded weather data
weather <- read_csv("data/weather_data.csv")
#extracting month and year from date
str(weather)
weather$Date <- as.Date(weather$Date, format= "%m/%d/%Y")
weather$monthina <- as.numeric (format(weather$Date, "%m"))
weather$yearina <- as.numeric (format(weather$Date, "%Y")) + 2000
#creating census years for each data collection period
weather$CensusYearMay <- ifelse(weather$monthina >= 5, (weather$yearina + 1), weather$yearina)
weather$CensusYearJul <- ifelse(weather$monthina >= 7, (weather$yearina + 1), weather$yearina)
weather$CensusYearSep <- ifelse(weather$monthina >= 9, (weather$yearina + 1), weather$yearina)
#generating summary stats for each census year
weatherMay <- weather %>%
group_by(
CensusYearMay) %>%
mutate(CensusYearMay_ppt_tot = sum(`ppt (inches)`, na.rm = TRUE),
CensusYearMay_ppt_sd  = sd(`ppt (inches)`, na.rm = TRUE),
CensusYearMay_tmean_mean = sum(`tmean (degrees F)`, na.rm = TRUE),
CensusYearMay_tmean_sd  = sd(`tmean (degrees F)`, na.rm = TRUE))
weatherJul <- weather %>%
group_by(
CensusYearJul) %>%
mutate(CensusYearJul_ppt_tot = sum(`ppt (inches)`, na.rm = TRUE),
CensusYearJul_ppt_sd  = sd(`ppt (inches)`, na.rm = TRUE),
CensusYearJul_tmean_mean = sum(`tmean (degrees F)`, na.rm = TRUE),
CensusYearJul_tmean_sd  = sd(`tmean (degrees F)`, na.rm = TRUE))
weatherSep <- weather %>%
group_by(
CensusYearSep) %>%
mutate(CensusYearSep_ppt_tot = sum(`ppt (inches)`, na.rm = TRUE),
CensusYearSep_ppt_sd  = sd(`ppt (inches)`, na.rm = TRUE),
CensusYearSep_tmean_mean = sum(`tmean (degrees F)`, na.rm = TRUE),
CensusYearSep_tmean_sd  = sd(`tmean (degrees F)`, na.rm = TRUE))
#making data frames with only necessary data for each census year
weatherMay <- weatherMay %>%
select(-`tmax (degrees F)`,-`tdmean (degrees F)`,-`vpdmin (hPa)`,-`vpdmax (hPa)`,-`tmin (degrees F)`,
-Date, -monthina, -yearina, -`ppt (inches)`,-`tmean (degrees F)`,
-CensusYearJul, -CensusYearSep) %>%
distinct()
weatherJul <- weatherJul %>%
select(-`tmax (degrees F)`,-`tdmean (degrees F)`,-`vpdmin (hPa)`,-`vpdmax (hPa)`,-`tmin (degrees F)`,
-Date, -monthina, -yearina, -`ppt (inches)`,-`tmean (degrees F)`,
-CensusYearMay, -CensusYearSep) %>%
distinct()
weatherSep <- weatherSep %>%
select(-`tmax (degrees F)`,-`tdmean (degrees F)`,-`vpdmin (hPa)`,-`vpdmax (hPa)`,-`tmin (degrees F)`,
-Date, -monthina, -yearina, -`ppt (inches)`,-`tmean (degrees F)`,
-CensusYearJul, -CensusYearMay) %>%
distinct()
gras <- read.csv("data/ltreb_allspp_2007_2025.csv")
CombinedData <- left_join(x=gras, y=weatherMay, by=c("year_t" = "CensusYearMay")) %>%
left_join(x=gras, y=weatherJul, by=c("year_t" = "CensusYearJul")) %>%
left_join(x=gras, y=weatherSep, by=c("year_t" = "CensusYearSep")) %>%
rowwise()
View(CombinedData)
View(CombinedData)
CombinedMay <- left_join(x=gras, y=weatherMay, by=c("year_t" = "CensusYearMay")) %>%
rowwise()
CombinedJul <- left_join(x=gras, y=weatherJul, by=c("year_t" = "CensusYearJul")) %>%
rowwise()
CombinedMay <- left_join(x=gras, y=weatherMay, by=c("year_t" = "CensusYearMay")) %>%
rowwise()
CombinedJul <- left_join(x=gras, y=weatherJul, by=c("year_t" = "CensusYearJul")) %>%
rowwise()
View(CombinedJul)
CombinedJul <- left_join(x=CombinedMay, y=weatherJul, by=c("year_t" = "CensusYearJul")) %>%
rowwise()
View(CombinedJul)
CombinedJul <- left_join(x=CombinedJul, y=weatherSep, by=c("year_t" = "CensusYearSep")) %>%
rowwise()
CombinedMay <- left_join(x=gras, y=weatherMay, by=c("year_t" = "CensusYearMay")) %>%
rowwise()
CombinedJul <- left_join(x=CombinedMay, y=weatherJul, by=c("year_t" = "CensusYearJul")) %>%
rowwise()
CombinedData <- left_join(x=CombinedJul, y=weatherSep, by=c("year_t" = "CensusYearSep")) %>%
rowwise()
CominedData$ppt_tot <- as.integer (case_when(gras$species == "AGPE" ~ CombinedData$CensusYearSep_ppt_tot,
gras$species == "ELRI" ~ CombinedData$CensusYearJul_ppt_tot,
gras$species == "ELVI" ~ CombinedData$CensusYearJul_ppt_tot,
gras$species == "FESU" ~ CombinedData$CensusYearMay_ppt_tot,
gras$species == "LOAR" ~ "blank",
gras$species == "POAL" ~ CombinedData$CensusYearMay_ppt_tot,
gras$species == "POAU" ~ "blank",
gras$species == "POSY" ~ CombinedData$CensusYearMay_ppt_tot))
CominedData$ppt_tot <- as.integer (case_when(gras$species == "AGPE" ~ CombinedData$CensusYearSep_ppt_tot,
gras$species == "ELRI" ~ CombinedData$CensusYearJul_ppt_tot,
gras$species == "ELVI" ~ CombinedData$CensusYearJul_ppt_tot,
gras$species == "FESU" ~ CombinedData$CensusYearMay_ppt_tot,
gras$species == "LOAR" ~ CombinedData$CensusYearMay_ppt_tot,
gras$species == "POAL" ~ CombinedData$CensusYearMay_ppt_tot,
gras$species == "POAU" ~ CombinedData$CensusYearMay_ppt_tot,
gras$species == "POSY" ~ CombinedData$CensusYearMay_ppt_tot))
CombinedData <- left_join(x=CombinedJul, y=weatherSep, by=c("year_t" = "CensusYearSep")) %>%
rowwise()
CominedData$ppt_tot <- as.integer (case_when(gras$species == "AGPE" ~ CombinedData$CensusYearSep_ppt_tot,
gras$species == "ELRI" ~ CombinedData$CensusYearJul_ppt_tot,
gras$species == "ELVI" ~ CombinedData$CensusYearJul_ppt_tot,
gras$species == "FESU" ~ CombinedData$CensusYearMay_ppt_tot,
gras$species == "LOAR" ~ CombinedData$CensusYearMay_ppt_tot,
gras$species == "POAL" ~ CombinedData$CensusYearMay_ppt_tot,
gras$species == "POAU" ~ CombinedData$CensusYearMay_ppt_tot,
gras$species == "POSY" ~ CombinedData$CensusYearMay_ppt_tot))
CombinedData$ppt_tot <- as.integer (case_when(gras$species == "AGPE" ~ CombinedData$CensusYearSep_ppt_tot,
gras$species == "ELRI" ~ CombinedData$CensusYearJul_ppt_tot,
gras$species == "ELVI" ~ CombinedData$CensusYearJul_ppt_tot,
gras$species == "FESU" ~ CombinedData$CensusYearMay_ppt_tot,
gras$species == "LOAR" ~ CombinedData$CensusYearMay_ppt_tot,
gras$species == "POAL" ~ CombinedData$CensusYearMay_ppt_tot,
gras$species == "POAU" ~ CombinedData$CensusYearMay_ppt_tot,
gras$species == "POSY" ~ CombinedData$CensusYearMay_ppt_tot))
CombinedData$ppt_tot <- as.integer (case_when(gras$species == "AGPE" ~ CombinedData$CensusYearSep_ppt_tot,
gras$species == "ELRI" ~ CombinedData$CensusYearJul_ppt_tot,
gras$species == "ELVI" ~ CombinedData$CensusYearJul_ppt_tot,
gras$species == "FESU" ~ CombinedData$CensusYearMay_ppt_tot,
gras$species == "LOAR" ~ "idk",
gras$species == "POAL" ~ CombinedData$CensusYearMay_ppt_tot,
gras$species == "POAU" ~ "blank",
gras$species == "POSY" ~ CombinedData$CensusYearMay_ppt_tot))
CombinedData$ppt_tot <- as.integer (case_when(gras$species == "AGPE" ~ CombinedData$CensusYearSep_ppt_tot,
gras$species == "ELRI" ~ CombinedData$CensusYearJul_ppt_tot,
gras$species == "ELVI" ~ CombinedData$CensusYearJul_ppt_tot,
gras$species == "FESU" ~ CombinedData$CensusYearMay_ppt_tot,
gras$species == "LOAR" ~ CombinedData$CensusYearMay_ppt_tot, #fake
gras$species == "POAL" ~ CombinedData$CensusYearMay_ppt_tot,
gras$species == "POAU" ~ CombinedData$CensusYearMay_ppt_tot, #fake
gras$species == "POSY" ~ CombinedData$CensusYearMay_ppt_tot))
View(CombinedData)
View(CombinedData)
str(CombinedData)
CombinedDataRefined <- CombinedData %>% select(X, species, plot, endo_01, id, origin, original, birth,
year_t, age, size_t, flw_count_t, mean_spike_t,
year_t1, surv_t1, size_t1, flw_count_t1, mean_spike_t1,
dist_a, dist_b, ppt_tot)
View(CombinedDataRefined)
?case_when
CombinedData$ppt_tot <- as.integer (case_when(gras$species == "AGPE" ~ CombinedData$CensusYearSep_ppt_tot,
gras$species == "ELRI" ~ CombinedData$CensusYearJul_ppt_tot,
gras$species == "ELVI" ~ CombinedData$CensusYearJul_ppt_tot,
gras$species == "FESU" ~ CombinedData$CensusYearMay_ppt_tot,
gras$species == "LOAR" ~ CombinedData$CensusYearMay_ppt_tot, #fake
gras$species == "POAL" ~ CombinedData$CensusYearMay_ppt_tot,
gras$species == "POAU" ~ CombinedData$CensusYearMay_ppt_tot, #fake
gras$species == "POSY" ~ CombinedData$CensusYearMay_ppt_tot,
.default = as.integer()))
CombinedData$ppt_tot <- as.integer (case_when(gras$species == "AGPE" ~ CombinedData$CensusYearSep_ppt_tot,
gras$species == "ELRI" ~ CombinedData$CensusYearJul_ppt_tot,
gras$species == "ELVI" ~ CombinedData$CensusYearJul_ppt_tot,
gras$species == "FESU" ~ CombinedData$CensusYearMay_ppt_tot,
gras$species == "LOAR" ~ CombinedData$CensusYearMay_ppt_tot, #fake
gras$species == "POAL" ~ CombinedData$CensusYearMay_ppt_tot,
gras$species == "POAU" ~ CombinedData$CensusYearMay_ppt_tot, #fake
gras$species == "POSY" ~ CombinedData$CensusYearMay_ppt_tot,
.default = as.integer(CombinedData$ppt_tot)))
CombinedDataRefined <- CombinedData %>% select(X, species, plot, endo_01, id, origin, original, birth,
year_t, age, size_t, flw_count_t, mean_spike_t,
year_t1, surv_t1, size_t1, flw_count_t1, mean_spike_t1,
dist_a, dist_b, ppt_tot)
View(CombinedDataRefined)
?.ptype
?ptype
CombinedData$ppt_tot <- as.integer (case_when(gras$species == "AGPE" ~ CombinedData$CensusYearSep_ppt_tot,
gras$species == "ELRI" ~ CombinedData$CensusYearJul_ppt_tot,
gras$species == "ELVI" ~ CombinedData$CensusYearJul_ppt_tot,
gras$species == "FESU" ~ CombinedData$CensusYearMay_ppt_tot,
gras$species == "LOAR" ~ CombinedData$CensusYearMay_ppt_tot, #fake
gras$species == "POAL" ~ CombinedData$CensusYearMay_ppt_tot,
gras$species == "POAU" ~ CombinedData$CensusYearMay_ppt_tot, #fake
gras$species == "POSY" ~ CombinedData$CensusYearMay_ppt_tot,
.ptype = as.integer(CombinedData$ppt_tot)))
CombinedData$ppt_tot <- as.integer (case_when(gras$species == "AGPE" ~ CombinedData$CensusYearSep_ppt_tot,
gras$species == "ELRI" ~ CombinedData$CensusYearJul_ppt_tot,
gras$species == "ELVI" ~ CombinedData$CensusYearJul_ppt_tot,
gras$species == "FESU" ~ CombinedData$CensusYearMay_ppt_tot,
gras$species == "LOAR" ~ CombinedData$CensusYearMay_ppt_tot, #fake
gras$species == "POAL" ~ CombinedData$CensusYearMay_ppt_tot,
gras$species == "POAU" ~ CombinedData$CensusYearMay_ppt_tot, #fake
gras$species == "POSY" ~ CombinedData$CensusYearMay_ppt_tot,
.ptype = as.integer(CombinedData$CensusYearSep_ppt_tot)))
CombinedData$ppt_tot <- as.integer (case_when(gras$species == "AGPE" ~ CombinedData$CensusYearSep_ppt_tot,
gras$species == "ELRI" ~ CombinedData$CensusYearJul_ppt_tot,
gras$species == "ELVI" ~ CombinedData$CensusYearJul_ppt_tot,
gras$species == "FESU" ~ CombinedData$CensusYearMay_ppt_tot,
gras$species == "LOAR" ~ CombinedData$CensusYearMay_ppt_tot, #fake
gras$species == "POAL" ~ CombinedData$CensusYearMay_ppt_tot,
gras$species == "POAU" ~ CombinedData$CensusYearMay_ppt_tot, #fake
gras$species == "POSY" ~ CombinedData$CensusYearMay_ppt_tot,
.ptype = CombinedData$CensusYearSep_ppt_tot))
CombinedDataRefined <- CombinedData %>% select(X, species, plot, endo_01, id, origin, original, birth,
year_t, age, size_t, flw_count_t, mean_spike_t,
year_t1, surv_t1, size_t1, flw_count_t1, mean_spike_t1,
dist_a, dist_b, ppt_tot)
View(CombinedDataRefined)
CombinedData$ppt_tot <- as.integer (case_when(gras$species == "AGPE" ~ round(CombinedData$CensusYearSep_ppt_tot, digits = 7),
gras$species == "ELRI" ~ round(CombinedData$CensusYearJul_ppt_tot, digits = 7),
gras$species == "ELVI" ~ round(CombinedData$CensusYearJul_ppt_tot, digits = 7),
gras$species == "FESU" ~ round(CombinedData$CensusYearMay_ppt_tot, digits = 7),
gras$species == "LOAR" ~ round(CombinedData$CensusYearMay_ppt_tot, digits = 7),#fake
gras$species == "POAL" ~ round(CombinedData$CensusYearMay_ppt_tot, digits = 7),
gras$species == "POAU" ~ round(CombinedData$CensusYearMay_ppt_tot, digits = 7), #fake
gras$species == "POSY" ~ round(CombinedData$CensusYearMay_ppt_tot, digits = 7)))
CombinedDataRefined <- CombinedData %>% select(X, species, plot, endo_01, id, origin, original, birth,
year_t, age, size_t, flw_count_t, mean_spike_t,
year_t1, surv_t1, size_t1, flw_count_t1, mean_spike_t1,
dist_a, dist_b, ppt_tot)
View(CombinedDataRefined)
str(CombinedData)
CombinedData$ppt_tot <- as.numeric (case_when(gras$species == "AGPE" ~ CombinedData$CensusYearSep_ppt_tot,
gras$species == "ELRI" ~ CombinedData$CensusYearJul_ppt_tot,
gras$species == "ELVI" ~ CombinedData$CensusYearJul_ppt_tot,
gras$species == "FESU" ~ CombinedData$CensusYearMay_ppt_tot,
gras$species == "LOAR" ~ CombinedData$CensusYearMay_ppt_tot, #fake
gras$species == "POAL" ~ CombinedData$CensusYearMay_ppt_tot,
gras$species == "POAU" ~ CombinedData$CensusYearMay_ppt_tot, #fake
gras$species == "POSY" ~ CombinedData$CensusYearMay_ppt_tot))
View(CombinedData$ppt_tot)
View(CombinedData)
CombinedDataRefined <- CombinedData %>% select(X, species, plot, endo_01, id, origin, original, birth,
year_t, age, size_t, flw_count_t, mean_spike_t,
year_t1, surv_t1, size_t1, flw_count_t1, mean_spike_t1,
dist_a, dist_b, ppt_tot)
View(CombinedDataRefined)
CombinedData$ppt_sd <- as.numeric (case_when(gras$species == "AGPE" ~ CombinedData$CensusYearSep_ppt_sd,
gras$species == "ELRI" ~ CombinedData$CensusYearJul_ppt_sd,
gras$species == "ELVI" ~ CombinedData$CensusYearJul_ppt_sd,
gras$species == "FESU" ~ CombinedData$CensusYearMay_ppt_sd,
gras$species == "LOAR" ~ CombinedData$CensusYearMay_ppt_sd, #fake
gras$species == "POAL" ~ CombinedData$CensusYearMay_ppt_sd,
gras$species == "POAU" ~ CombinedData$CensusYearMay_ppt_sd, #fake
gras$species == "POSY" ~ CombinedData$CensusYearMay_ppt_sd))
CombinedDataRefined <- CombinedData %>% select(X, species, plot, endo_01, id, origin, original, birth,
year_t, age, size_t, flw_count_t, mean_spike_t,
year_t1, surv_t1, size_t1, flw_count_t1, mean_spike_t1,
dist_a, dist_b, ppt_tot, ppt_sd)
View(CombinedDataRefined)
CombinedData$ppt_tot <- as.numeric (case_when(gras$species == "AGPE" ~ CombinedData$CensusYearSep_ppt_tot,
gras$species == "ELRI" ~ CombinedData$CensusYearJul_ppt_tot,
gras$species == "ELVI" ~ CombinedData$CensusYearJul_ppt_tot,
gras$species == "FESU" ~ CombinedData$CensusYearMay_ppt_tot,
gras$species == "LOAR" ~ CombinedData$CensusYearMay_ppt_tot, #fake
gras$species == "POAL" ~ CombinedData$CensusYearMay_ppt_tot,
gras$species == "POAU" ~ CombinedData$CensusYearMay_ppt_tot, #fake
gras$species == "POSY" ~ CombinedData$CensusYearMay_ppt_tot))
CombinedData$ppt_sd <- as.numeric (case_when(gras$species == "AGPE" ~ CombinedData$CensusYearSep_ppt_sd,
gras$species == "ELRI" ~ CombinedData$CensusYearJul_ppt_sd,
gras$species == "ELVI" ~ CombinedData$CensusYearJul_ppt_sd,
gras$species == "FESU" ~ CombinedData$CensusYearMay_ppt_sd,
gras$species == "LOAR" ~ CombinedData$CensusYearMay_ppt_sd, #fake
gras$species == "POAL" ~ CombinedData$CensusYearMay_ppt_sd,
gras$species == "POAU" ~ CombinedData$CensusYearMay_ppt_sd, #fake
gras$species == "POSY" ~ CombinedData$CensusYearMay_ppt_sd))
CombinedData$tmean_mean <- as.numeric (case_when(gras$species == "AGPE" ~ CombinedData$CensusYearSep_tmean_mean,
gras$species == "ELRI" ~ CombinedData$CensusYearJul_tmean_mean,
gras$species == "ELVI" ~ CombinedData$CensusYearJul_tmean_mean,
gras$species == "FESU" ~ CombinedData$CensusYearMay_tmean_mean,
gras$species == "LOAR" ~ CombinedData$CensusYearMay_tmean_mean, #fake
gras$species == "POAL" ~ CombinedData$CensusYearMay_tmean_mean,
gras$species == "POAU" ~ CombinedData$CensusYearMay_tmean_mean, #fake
gras$species == "POSY" ~ CombinedData$CensusYearMay_tmean_mean))
CombinedData$tmean_sd <- as.numeric (case_when(gras$species == "AGPE" ~ CombinedData$CensusYearSep_tmean_sd,
gras$species == "ELRI" ~ CombinedData$CensusYearJul_tmean_sd,
gras$species == "ELVI" ~ CombinedData$CensusYearJul_tmean_sd,
gras$species == "FESU" ~ CombinedData$CensusYearMay_tmean_sd,
gras$species == "LOAR" ~ CombinedData$CensusYearMay_tmean_sd, #fake
gras$species == "POAL" ~ CombinedData$CensusYearMay_tmean_sd,
gras$species == "POAU" ~ CombinedData$CensusYearMay_tmean_sd, #fake
gras$species == "POSY" ~ CombinedData$CensusYearMay_tmean_sd))
CombinedDataRefined <- CombinedData %>% select(X, species, plot, endo_01, id, origin, original, birth,
year_t, age, size_t, flw_count_t, mean_spike_t,
year_t1, surv_t1, size_t1, flw_count_t1, mean_spike_t1,
dist_a, dist_b, ppt_tot, ppt_sd, tmean_mean, tmean_sd)
